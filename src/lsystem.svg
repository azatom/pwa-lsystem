<svg onload="((e,t=e.target)=>{(onhashchange=e=>lsystemSvg(decodeURIComponent(location.href.split(/[?#]/)[1]),t))()})(event);" xmlns="http://www.w3.org/2000/svg"><script>/*<![CDATA[*/async function Q(e='S=SF+SF-SF',t,r){e='string'==typeof e?Object.fromEntries(e.replace(/&/g,',').replace(/([^,:=]*)[:=]([^,:=]*)/g,'$1=$2').split(',').map(e=>e.split('='))):e;let n,i=performance.now(),[l,a,o,s,c,u]=Array(9).fill(0),f='',h=1,p=Math.PI/2;e.S??='F',e._n=0|e._n,e._a=e._a?'q'===e._a?180*(3-Math.sqrt(5)):e._a:90,e._l??=9,e._m??=p;let _,d=(e,t)=>null==e||''===e?t:e,m=[],$=e._a/90,g=Object.fromEntries(Object.entries(e).filter(([e])=>e.endsWith('2')).map(([e,t])=>[e[0],t])),b=e=>+parseFloat(e).toPrecision(12),M=t=>e._l*Math.pow(e._m,c)*t(p*(o*$+s)),w=(e,t,...r)=>{for(n in e=document.createElementNS('http://www.w3.org/2000/svg',e),t)e.setAttribute(n,t[n]);return r?.map(t=>e.prepend(t)),e},y={},S=((e=1e-5,t=9*e)=>{let r,n=new Set,[o,s]=M(l,a),c=`${o},${s}`,h=1/0,p=-1/0,_=h,d=p,m=h,$=p;function g(e){return e.split(',').map(b).join(',')}function M(r,n){let i,l,a,o,s,c,u,f=1/0,h=Math.floor(r/t),p=Math.floor(n/t),_=Math.ceil(e/t);for(c=-_;c<=_;c++)for(s=-_;s<=_;s++)if(l=y[`${h+s},${p+c}`],l)for(u=0;u<l.length;u++)a=l[u],o=Math.hypot(a[0]-r,a[1]-n),o<f&&(f=o,i=a),$<o&&o<e&&($=o),e<o&&o<m&&(m=o);return f>=e&&(y[`${h},${p}`]??=[]).push(i=[r,n]),i}return{stat:function(e=e=>e>=1e6?(e/1e6).toFixed(6):e,t=Object.values(y).reduce((e,t)=>e+t.length,0)){return{err:t-Object.keys(y).length,ms:+(performance.now()-i).toFixed(3),B:e(u),lg:0|Math.log($),len:m.toExponential(2),dot:e(t),line:e(n.size)}},vb:function(e){return[h-e,_-e,p-h+2*e,d-_+2*e]},put:function(e,t,i){let l=M(e,t);[e,t]=l;let a=`${e},${t}`;if(i){let i=c<a?`${c},${a}`:`${a},${c}`;n.has(i)||(n.add(i),c!==r&&(f+=`M${g(c)}`),f+=` ${g(r=a)}`,h=Math.min(e,o,h),p=Math.max(e,o,p),_=Math.min(t,s,_),d=Math.max(t,s,d))}return c=a,o=e,s=t,l}}})(),x=[0,1].map(e=>'id'+Math.random().toString(36).slice(2)),k=e=>'F'===n||'f'===n?[l,a]=S.put(l+M(Math.cos),a+M(Math.sin),'F'===n):'+'===n?o+=h:'*'===n?c++:'|'===n?s=(s+0+2)%4:'-'===n?o-=h:'/'===n?c--:'^'===n?s=(s+h+4)%4:'!'===n?h=-h:'['===n?m.push([l,a,o,s,c]):']'===n?m.length&&([l,a,o,s,c]=m.pop(),S.put(l,a)):0;{let t=Array(2+e._n).fill(0),i=t.map(()=>[]),l=(r,n)=>{for(;;){if(t[r]<i[r].length)return i[r][t[r]++];if(!r||!(n=l(r-1)))return 0;i[r]=(g&&r===e._n?g:e)[n]??n,t[r]=0}};for(i[0]=e.S;(n=l(e._n))&&(++u,!r||u%1e4!=0||!(_=await r(u)));)k()}[l,a,o,s]=f.length?S.vb(d(e._z,2)).map(b):[0,0,0,0];let v=4*+d(e._j,0)+ +d(e._k,0);return t||=w('svg'),t.setAttribute('viewBox',`${d(e._x,l)} ${d(e._y,a)} ${d(e._w,o)} ${d(e._h,s)}`),t.setAttribute('stroke-opacity',`${d(e._o,1)}`),t.replaceChildren(e._min?'':((j=w('title')).textContent=(_??'')+d(e[''],''),j),e._min?'':(t=>(t.textContent=JSON.stringify({stat:S.stat(),R:e}),t))(w('desc')),w('rect',{stroke:`${d(e._cb,'#fff')}`,fill:`${d(e._cb,'#fff')}`,x:l,y:a,width:o,height:s}),e._k?w('defs',0,w('marker',{id:x[0],markerWidth:2*v,markerHeight:2*v,viewBox:`${-v} ${-v} ${2*v} ${2*v}`},w('circle',{r:d(e._k,1),fill:d(e._cd,'#000'),style:e._j?`filter:blur(${e._j}px)`:''}))):'',e._hand?w('filter',{id:x[1],x:'-20%',y:'-20%',width:'140%',height:'140%',filterUnits:'objectBoundingBox',primitiveUnits:'userSpaceOnUse','color-interpolation-filters':'linearRGB'},w('feGaussianBlur',{stdDeviation:'0.15'}),w('feDisplacementMap',{in:'SourceGraphic',in2:'turbulence',scale:'6',xChannelSelector:'G',yChannelSelector:'A',result:'displacementMap'}),w('feTurbulence',{type:'turbulence',baseFrequency:'0.03 0.03',numOctaves:'3',seed:'1',stitchTiles:'noStitch',result:'turbulence'})):'',w('path',{stroke:d(e._cc,'#000'),'stroke-linecap':'round','stroke-linejoin':'round',fill:'none',...e._hand?{filter:`url(#${x[1]})`}:{},...e._k&&['start','mid','end'].reduce((e,t)=>(e['marker-'+t]=`url(#${x[0]})`,e),{}),d:f})),t;var j}window.lsystemSvg=Q;//]]></script></svg>