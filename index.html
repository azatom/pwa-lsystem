<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000">
  <meta name="mobile-web-app-capable" content="yes">
  <title>L-System Fractals</title>
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/marked/16.3.0/lib/marked.umd.js" integrity="sha512-p6CwIuqimImGywlprlZqDYTAteV+0lEZPYdGJ5wPDvFyYYcNIt6QvUTGy5FIMzlPdEQawgScbMW/MDTg7va+EQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>(()=>{var e={lsystemsvg:'lsystem.svg',placeholder:'Type here: S=S+F,_n=3 or click \'next\'.\nReformat, tidy text: Ctrl+Enter or Triangle.\nShift/LongTap reverses \'++\', \'next\', or alters fun.',shorthelp:'_n Number of iterations, 0+\n_m Line length multiplier, +\n_a Angle in degrees, -0+\n_l Initial line length width=1, +\n_k Dot size, 0+\n_j Dot blur, 0+\n_o Stroke-opacity, 0..1\n_cb Color background, #[0-9a-f]{3,8}\n_cc Color line, #[0-9a-f]{3,8}\n_cd Color dot, #[0-9a-f]{3,8}\n_x _y, _w, _h: ViewBox, -0+\n_z Padding, 0+\n_hand turbulenceTBD, 1',error:'error',copied:'copied',pngDefaultSize:3840,pngPrompt:'Larger size [px]? (max.safe: 16384)',untitled:'untitled',processing:'Processing...',nothingToExport:'Nothing to export'};async function t(e='S=SF+SF-SF',t,n){e='string'==typeof e?Object.fromEntries(e.replace(/&/g,',').replace(/([^,:=]*)[:=]([^,:=]*)/g,'$1=$2').split(',').map(e=>e.split('='))):e;let i,r=performance.now(),[a,o,F,l,s,c]=Array(9).fill(0),d='',u=1,g=Math.PI/2;e.S??='F',e._n=0|e._n,e._a=e._a?'q'===e._a?180*(3-Math.sqrt(5)):e._a:90,e._l??=9,e._m??=g;let f,p=(e,t)=>null==e||''===e?t:e,_=[],h=e._a/90,m=Object.fromEntries(Object.entries(e).filter(([e])=>e.endsWith('2')).map(([e,t])=>[e[0],t])),X=e=>+parseFloat(e).toPrecision(12),v=t=>e._l*Math.pow(e._m,s)*t(g*(F*h+l)),b=(e,t,...n)=>{for(i in e=document.createElementNS('http://www.w3.org/2000/svg',e),t)e.setAttribute(i,t[i]);return n?.map(t=>e.prepend(t)),e},y={},S=((e=1e-5,t=9*e)=>{let n,i=new Set,[F,l]=v(a,o),s=`${F},${l}`,u=1/0,g=-1/0,f=u,p=g,_=u,h=g;function m(e){return e.split(',').map(X).join(',')}function v(n,i){let r,a,o,F,l,s,c,d=1/0,u=Math.floor(n/t),g=Math.floor(i/t),f=Math.ceil(e/t);for(s=-f;s<=f;s++)for(l=-f;l<=f;l++)if(a=y[`${u+l},${g+s}`],a)for(c=0;c<a.length;c++)o=a[c],F=Math.hypot(o[0]-n,o[1]-i),F<d&&(d=F,r=o),h<F&&F<e&&(h=F),e<F&&F<_&&(_=F);return d>=e&&(y[`${u},${g}`]??=[]).push(r=[n,i]),r}return{stat:function(e=e=>e>=1e6?(e/1e6).toFixed(6):e,t=Object.values(y).reduce((e,t)=>e+t.length,0)){return{err:t-Object.keys(y).length,ms:+(performance.now()-r).toFixed(3),B:e(c),lg:0|Math.log(h),len:_.toExponential(2),dot:e(t),line:e(i.size)}},vb:function(e){return[u-e,f-e,g-u+2*e,p-f+2*e]},put:function(e,t,r){let a=v(e,t);[e,t]=a;let o=`${e},${t}`;if(r){let r=s<o?`${s},${o}`:`${o},${s}`;i.has(r)||(i.add(r),s!==n&&(d+=`M${m(s)}`),d+=` ${m(n=o)}`,u=Math.min(e,F,u),g=Math.max(e,F,g),f=Math.min(t,l,f),p=Math.max(t,l,p))}return s=o,F=e,l=t,a}}})(),w=[0,1].map(e=>'id'+Math.random().toString(36).slice(2)),x=e=>'F'===i||'f'===i?[a,o]=S.put(a+v(Math.cos),o+v(Math.sin),'F'===i):'+'===i?F+=u:'*'===i?s++:'|'===i?l=(l+0+2)%4:'-'===i?F-=u:'/'===i?s--:'^'===i?l=(l+u+4)%4:'!'===i?u=-u:'['===i?_.push([a,o,F,l,s]):']'===i?_.length&&([a,o,F,l,s]=_.pop(),S.put(a,o)):0;{let t=Array(2+e._n).fill(0),r=t.map(()=>[]),a=(n,i)=>{for(;;){if(t[n]<r[n].length)return r[n][t[n]++];if(!n||!(i=a(n-1)))return 0;r[n]=(m&&n===e._n?m:e)[i]??i,t[n]=0}};for(r[0]=e.S;(i=a(e._n))&&(++c,!n||c%1e4!=0||!(f=await n(c)));)x()}[a,o,F,l]=d.length?S.vb(p(e._z,2)).map(X):[0,0,0,0];let A=4*+p(e._j,0)+ +p(e._k,0);return t||=b('svg'),t.setAttribute('viewBox',`${p(e._x,a)} ${p(e._y,o)} ${p(e._w,F)} ${p(e._h,l)}`),t.setAttribute('stroke-opacity',`${p(e._o,1)}`),t.replaceChildren(e._min?'':((k=b('title')).textContent=(f??'')+p(e[''],''),k),e._min?'':(t=>(t.textContent=JSON.stringify({stat:S.stat(),R:e}),t))(b('desc')),b('rect',{stroke:`${p(e._cb,'#fff')}`,fill:`${p(e._cb,'#fff')}`,x:a,y:o,width:F,height:l}),e._k?b('defs',0,b('marker',{id:w[0],markerWidth:2*A,markerHeight:2*A,viewBox:`${-A} ${-A} ${2*A} ${2*A}`},b('circle',{r:p(e._k,1),fill:p(e._cd,'#000'),style:e._j?`filter:blur(${e._j}px)`:''}))):'',e._hand?b('filter',{id:w[1],x:'-20%',y:'-20%',width:'140%',height:'140%',filterUnits:'objectBoundingBox',primitiveUnits:'userSpaceOnUse','color-interpolation-filters':'linearRGB'},b('feGaussianBlur',{stdDeviation:'0.15'}),b('feDisplacementMap',{in:'SourceGraphic',in2:'turbulence',scale:'6',xChannelSelector:'G',yChannelSelector:'A',result:'displacementMap'}),b('feTurbulence',{type:'turbulence',baseFrequency:'0.03 0.03',numOctaves:'3',seed:'1',stitchTiles:'noStitch',result:'turbulence'})):'',b('path',{stroke:p(e._cc,'#000'),'stroke-linecap':'round','stroke-linejoin':'round',fill:'none',...e._hand?{filter:`url(#${w[1]})`}:{},...e._k&&['start','mid','end'].reduce((e,t)=>(e['marker-'+t]=`url(#${w[0]})`,e),{}),d:d})),t;var k}var n=['=blurDemoPentagram,S=FX++FX++FX++FX++FX,X=[++++/F/F!X!*F],_a=36,_j=1,_k=1,_l=22,_m=1.6180339887498948,_n=5,_cc=#f004,_cd=#00f7','=TODO,_k=1,_o=0.5,_j=.1,_l=3,_z=2,_cb=#7007,_cc=#0707,_cd=#0077','=KiteDart3,S=Wf+Xf+Wf+Xf+Wf+Xf+Wf+Xf+Wf+X,F=,W=[F][++*F][++f---/f|X-Y|f|W],X=[F+++*F][++/fZ|X|-f|W],Y=[+F][*F][+f/|Y+X],Z=[-F][*F][/f--Wf|+Z],_a=36,_k=4,_l=199,_m=1.6180339887498948,_n=5,_z=9,_hand=1','=Lizard,S=AX,A=[+AX-AX-AX]-AX+AX+AX-,F=,X=F+F+F+FFF-F-F-F,_l=2,_a=60,_n=5',{'':'AperiodicMirroredMonoTile-Spectre',S:'U+V+W+V+R',R:'V+R+U+V+W+V+R-W',U:'V+R+U+V+W+V+R-U+V+W+V+R+U-V',V:'W+V+R+U+V+W+V+R-W',W:'V+R+U+V+W+V+R-W+V+R+U+V+W-V',R2:'FF',U2:'F^F-F^F-F^F',V2:'F^^^F',W2:'F^F',_a:60,_l:6,_n:3},'=Hilbert,S=-!S!F+SFS+F!S!-,_a=90,_l=2,_n=4,_z=1.5','=Penrose,S=X,F=,W=YF++ZF----XF[-YF----WF]++,X=+YF--ZF[---WF--XF]+,Y=-WF++XF[+++YF++ZF]-,Z=--YF++++WF[+ZF++++XF]--XF,_a=36,_l=9,_n=5','=KiteDart1,S=+[/A]F/---[-S]F-F---[-S]*F[/|A],A=[/S]+F/[|A]----F+F----[A]*F,F=f,_a=36,_l=99,_m=1.6180339887498948,_n=5','=KiteDart2,S=[k]++[k]++[k]++[k]++[k],A=[/k]+F/[|A]----F+F----[A]*F,F=f,_a=36,_l=99,_m=1.6180339887498948,k=+[/A]F/---[-k]F-F---[-k]*F[/|A],_n=5','=try90,S=X,F=F+/f*-F,X=[X]F^[X]F^[X]F^[X]F^,_a=80,_l=9,_m=1.4142,_n=5','=tilesg5,S=AX,A=F+F-F,F=,X=[+AX-AX-AX]-AX+AX+AX-,_a=60,_l=6,_n=5','=tilesg6,S=AX,A=FfF,F=,X=[+AX-AX-AX]-AX+AX+AX-,_a=60,_l=6,f=,_n=5','=tilesg7,S=AX,A=++F--f++F--,B=++F--f++F--,C=++F--f++F--,D=++F--f++F--,E=++F--f++F--,F=,G=++F--f++F--,X=[+AX-BX-CX]-DX+EX+GX-,_a=60,_l=6,f=,_n=4','=tilesgHex,S=AX,A=F-F-F-F+F+F+F,F=,X=[+AX-AX-AX]-AX+AX+AX-,_a=60,_l=6,f=,_n=4','=Quartet,S=FB,A=FBFA+HFA+FB-FA,B=FB+FA-FB-JFBFA,F=,H=-,J=+,_a=90,_n=4','=Koch5,S=F-F-F-F,F=F-F+F+FFF-F-F+F,_a=90,_n=3','=QuadKoch,S=F-F-F-F-,F=F+FF-FF-F-F+F+FF-F-F+F+FF+FF-F,_a=90,_n=3','=Koch,S=F--F--F,F=F+F--F+F,_a=60,_l=2,_n=5','=tilesg4,S=X,F=F+f-F,X=[X]F+[X]F+[X]F+[X]F+[X]F+[X]F+,_a=60,_l=6,f=F,_n=5','=lars2,S=+[F]++[F]++[F]++F,F=F[+F][-F],_a=60,_n=6','=Vlinders1,S=f----f----f,_a=30,_l=160,_m=1.732,f=[F]/+f--f+*,_n=7','=Notsupported(*)Vlinders3,S=[--F]f--[--F]f--[--F]f--[--F]f--[--F]f--[--F]f,_a=30,_l=160,_m=1.732,f=/[-(2)F]+f--[--]f[----(2)F]+*,_n=4','=Sierpinski3,S=YF,X=YF+XF+Y,Y=XF-YF-X,_a=60,_n=5','=sierpin,S=--X,F=FF,X=++FXF++FXF++FXF,_a=60,_n=5','=CircularTile,S=X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X,X=[F+F+F+F[---X-Y]+++++F++++++++F-F-F-F],Y=[F+F+F+F[---Y]+++++F++++++++F-F-F-F],_a=15,_n=3','S=+FFFFF,_n=1','=ColorTriangGasket,S=--X,F=FF,X=++FXF++FXF++FXF>1,_a=60,_n=4','=curve3,S=F-F-F-F-,F=FF-F+F-F-FF,_a=90,_l=6,_n=4','=curve4,S=F-F-F-F-,F=FF-F-F-F-F-F+F,_a=90,_l=6,_n=4','=Cesaro,S=F^F^F^F^,F=+!F!--!F!+,_a=42,_n=5','=Cesa,S=XY|XY,A=-F++F-,X=XYA^XY|XY,Y=A^XY,_a=30,_l=6,_n=4','=Fass1,S=L,L=LF+RFR+FL-F-LFLFL-FRFR+,R=-LFLF+RFRFR+F+RF-LFL-FR,_a=90,_l=6,_n=4','=fibonacci,S=X,X=F[+X]-FX,_a=90,_l=6,_n=10','=FlowSnake,S=FL,F=,L=FL-FR--FR+FL++FLFL+FR-,R=+FL-FRFR--FR-FL++FL+FR,_a=60,_n=3','=Pentigree,S=F-F-F-F-F,F=F-F++F+F-F-F,_a=72,_n=5','=Lace2,S=w,_a=30,_l=4,w=+++x--F--zFx+,x=---w++F++yFw-,y=+zFx--F--z+++,z=-yFw++F++y---,_n=6','=Island1,S=F+F+F+F,F=FFFF-F+F+F-F[-fFF+F+FF+F]FF,_a=90,_m=6,f=*f/,_n=2','=Island2,S=F+F+F+F,F=F+gF-FF-F-FF+g+FF-gF+FF+F+FF-g-FFF,_a=90,_m=6,g=*f/,_n=3','=ize2,S=XY++XY,X=XYF+XY++XY,Y=F+XY,_a=90,_l=6,_n=5','=ize3,S=F----F----F,F=[-F]+F--F+,_a=30,_l=6,_n=7','=Demon,S=FS+,F=SF-,_a=45,_l=4,_n=12','=Dragon,S=+FX,F=,X=-FX++FY-,Y=+FX--FY+,_a=45,_n=10','=DragonCurve,S=X,X=X-YF-,Y=+FX+Y,_a=90,_n=8','=Dragonka,S=F,F=F+F-F,_a=120,_l=22,_n=8','=Dragonka2,S=/[F+S]|F+S,F=f,_a=30,_l=234,_m=1.4142,_n=10','=XmasColor,S=FU--1FP++++1FQ--,F=,P=--FR++++1FS--1FU,Q=FT++1FR----1FS++,R=++FP----1FQ++1FT,X=P,T=+FU--1FP+,U=-FQ++1FT-,_a=36,_n=7','=Peano1,S=FXY++F++FXY++F,X=XY*-F/-FXY++F++FXY,Y=-*F-/FXY,_a=45,_m=1.41,_n=4','=Peano2,S=X,X=XFYFX+F+YFXFY-F-XFYFX,Y=YFXFY-F-XFYFX+F+YFXFY,_a=90,_n=4','=Pentagram,S=FX++FX++FX++FX++FX,X=[++++/F/F!X!*F],_a=36,_l=222,_m=1.6180339887498948,_n=5','=PentaPlexy,S=F++F++F++F++F,F=F++F++F+++++F-F++F,_a=36,_n=3','=Sierpinski1,S=F-F-F,F=F[-F]F,_a=120,_n=4','=Sierpinski2,S=X,F=FF,X=++FXF++FXF++FXF,_a=60,_n=6','=Sierpinski4,S=F,F=FXF,X=+FXF-FXF-FXF+,_a=120,_n=5','=Sierpinski5,S=FXF--FF--FF,F=FF,X=--FXF++FXF++FXF--,_a=60,_n=3','=sierpinskiSquare1,S=F+F+F+F,F=FF+F+F+F+FF,_a=90,_n=4','=sierpinskiSquare3,S=A,A=AfAfA-f+A-f+A|f|A|f|A+f-AfF-F-F-Ff+f|,F=FFF,_a=90,f=fff,_n=4','=sierpinskiSquare2,S=A,A=AFAFAF-FAFAF-FAFAF-FAFF-,F=fff,_a=90,f=fff,_n=5','=SnowFlake1,S=FR,F=,R=++!FRFU++FU++FU!---*FU|-/!FRFU!,U=!FRFU!|+*FR/+++!FR--FR--FRFU!--,_a=30,_m=1.732,_n=5','=Snowflake2!,S=F,F=++!F!F--F--F/|+F!F--F--F!+++*F/|+F!F*|+F!F,_a=30,_l=60,_m=1.732,_n=4','=SnowFlake3,S=Fx,F=,_a=30,_m=1.732,x=++F!x!Fy--Fx--Fy|+/FyF!x!++F!y!++F!y!Fx*+++F!y!Fx,y=FyF!x!+++/FyF!x!++F!x!++F!y!Fx*|+Fx--Fy--FxF!y!++,_n=4','=Sphinx2,S=+++X,F=ff,X=+FF-YFF+FF--FFF+++X+++F--YFFFYFFF+++,Y=-FF+XFF-FF++FFF+++Y+++F++XFFFXFFF+++,_a=60,_l=6,f=ff,_n=4','=SpiralOrNotTile,S=X++X++X++X++|G|X++X++X++X,X=[FX+++++*F/[-----Y]+++++F],Y=[F+++++*F/[-----Y]+++++F],_a=22.5,_m=0.7653668647,_n=6','=SquareGasket,S=X,F=FF,X=+FXF+FXF+FXF+FXF,_a=90,_n=4','=Peano3,S=F-F-F-F,F=F-F+F+F+F-F-F-F+F,_a=88,_n=3','=Notsupported(*)Vlinders6,S=F-[(0.5)-F]F-[(0.5)-F]F-[(0.5)-F]F-[(0.5)-F]F-[(0.5)-F]F--(0.5)F^/f(2)-S,_a=60,_l=160,_m=1.73205080756887729352744,_n=7','=Vlinders(q3)is*sqrt(3)),S=F-[/-F]F-[/-F]F-[/-F]F-[/-F]F-[/-F]F--/F^(q3)/f*-S,_a=60,_l=160,_m=2,_n=7','=plant04,S=F,F=FF-[-F+F+F]+[+F-F-F],_a=22.5,_n=4','S=f+f-fSF+FSF,_n=4','=hex,S=F,F=-F+F+[+F+F]-,_a=60,_n=5','=strq,S=FS+Sf+fS++SSFf,_n=4','=abc,S=[F+fff+[f,f=F,F=S!Sf+],_n=8,_z=9,_l=3'],i=new MessageChannel;function r(){return new Promise(e=>{i.port1.onmessage=()=>(i.port1.onmessage=null,e()),i.port2.postMessage(null)})}function a(t){return Object.fromEntries(t.replace(/[\n\r&]+/g,',').replace(/(^[?#{}]|[}]$|[\r \t\s\u00A0]+)/g,'').split(',').filter(e=>''!==e).map(e=>e.split(/[=:]/)).map(t=>{if(2!=t.length)throw new Error(e.shorthelp);return t}).map(e=>e.map(e=>e.replace(/(^["']|["']$)/g,''))).map(([t,n])=>{if(!/^(|[^"']|_[^"']+|[^"']2)$/.test(t)&&/[^"']*/.test(n))throw new Error(e.shorthelp);return[t,n]}))}function o(e,t){'string'==typeof e&&(e=a(e));let n=e=>e.replace(/^S/,' S').replace(/^_w/,'_y2').replace(/^_h/,'_y3').replace(/^_/,'zz');return Object.keys(e='string'==typeof e?a(e):e).sort((e,t)=>e.length-t.length||n(e).localeCompare(n(t))).map(n=>t?`<p>${n}=${e[n]}</p>`:`${n}=${e[n]}`).join(t?'':',')}function F(e,t=''){e.tabIndex=0;let n,i,r,a,o=!1,F=!1,l=null,s=null,c=0,d=0,u=0;var g;g='fixedRandomId9ghLisp4TWg',document.getElementById(g);let f=e=>{let t=e.touches?e.touches[0]:e;return{x:t.clientX,y:t.clientY}},p=()=>e.getAttribute('viewBox').split(/\s+/).map(parseFloat),_=()=>e.getBoundingClientRect(),h=t=>{if(t.button&&0!==t.button)return;let r=f(t);n=r.x,i=r.y,l=p(),o=!0,F=!1,e.classList.add('panning')},m=t=>{if(!o&&!F)return;t.preventDefault();let c=f(t),d=_();if(o){let t=l,r=Math.min(d.width/t[2],d.height/t[3]),a=(c.x-n)/r,o=(c.y-i)/r;return void e.setAttribute('viewBox',`${t[0]-a} ${t[1]-o} ${t[2]} ${t[3]}`)}if(F){let t,n=(c.y-a)/parseFloat(getComputedStyle(document.documentElement).fontSize),i=s,o=i[0]+i[2]*(r-d.left)/d.width,F=i[1]+i[3]*(a-d.top)/d.height;t=n>=0?1+n/6:Math.pow(2,n/6),t=Math.max(.02,Math.min(100,t));let l=i[2]/t,u=i[3]/t,g=o-(o-i[0])/t,f=F-(F-i[1])/t;e.setAttribute('viewBox',`${g} ${f} ${l} ${u}`)}},X=()=>{o=!1,F=!1,e.classList.remove('panning')},v=(t,n,i)=>{let r=p(),a=r[2]/i,o=r[3]/i,F=t-(t-r[0])/i,l=n-(n-r[1])/i;e.setAttribute('viewBox',`${F} ${l} ${a} ${o}`)};e.addEventListener('wheel',e=>{e.preventDefault();let t=_(),n=p(),i=e.clientX-t.left,r=e.clientY-t.top,a=n[0]+n[2]*i/t.width,o=n[1]+n[3]*r/t.height,F=e.deltaY<0?1.3:1/1.3;v(a,o,F)},{passive:!1});return e.addEventListener('dblclick',e=>{e.preventDefault();let t=_(),n=p(),i=n[0]+n[2]*(e.clientX-t.left)/t.width,r=n[1]+n[3]*(e.clientY-t.top)/t.height;v(i,r,2)}),e.addEventListener('keydown',e=>{if('+'===e.key||'='===e.key||'-'===e.key){e.preventDefault();let t=p(),n='-'===e.key?1/1.3:1.3;v(t[0]+t[2]/2,t[1]+t[3]/2,n)}}),e.addEventListener('mousedown',h),e.addEventListener('touchstart',e=>{1===e.touches.length&&((e=>{if(e.touches&&e.touches.length>1)return;let t=Date.now(),n=f(e);if(t-c<450&&Math.hypot(n.x-d,n.y-u)<40)return e.preventDefault(),r=n.x,a=n.y,s=p(),void(F=!0);c=t,d=n.x,u=n.y})(e),F||h(e))},{passive:!1}),e.addEventListener('mousemove',m),e.addEventListener('touchmove',m,{passive:!1}),e.addEventListener('mouseup',X),e.addEventListener('mouseleave',X),e.addEventListener('touchend',X),e.addEventListener('touchcancel',X),e.addEventListener('mousemove',e=>{let t=_(),n=p();n[0],n[2],e.clientX,t.left,t.width,n[1],n[3],e.clientY,t.top,t.height}),e}async function l(e,t){let n;try{n=URL.createObjectURL(e);let i=document.createElement('a');i.href=n,i.download=t,document.body.append(i),i.click(),document.body.removeChild(i)}catch(e){message(e.message)}finally{setTimeout(()=>URL.revokeObjectURL(n),100)}}var s,c,d=()=>document.body.classList.toggle('mobile-view',s.matches);function u(){return s.matches}function g(){return I.textarea.innerText}function f(){['export','minilog','R'].forEach(e=>localStorage.removeItem(N.lspre+e)),location.href=location.origin+location.pathname}function p(){N.abortController?N.abortController.abort():w(void 0,1)}function _(e){I.textarea.innerHTML=o(e,1)}function h(){return I.bigsvg.children[0]}function m(){return I.buttondot.hasAttribute('data-checked')}function X(e,t=location.href.split(/[?#]/)[1]){return t&&(w(decodeURIComponent(t),1),1)}function v(e){[...I.right.children].forEach(t=>t.classList.toggle('hidden',e!==t))}async function b(e,t=0,n=''){clearTimeout(N.timer),I.buttonminilog.textContent=n;let i=async()=>v(Object.assign(I.message,{innerText:e}));t?N.timer=setTimeout(i,t):await i()}async function y(e,n){return async function(e,t,n,i){let a;try{let o;return e&&(e.abortController?.abort(),e.abortController=a=new AbortController,t(0),await r(),o=async n=>{if(a.signal.aborted)return e.interrupted;t(n),await r()}),await n(i,void 0,o)}catch(n){e&&t(n.message||strings.error)}finally{e&&e.abortController===a&&(e.abortController=null)}}(n?N:void 0,n?e=>b('Processing...',0,(e/1e6).toFixed(1)+' M'):void 0,t,e)}function S(e,t){let n='string'==typeof e?a(e):e,i=t?R():{},r=m()?{_k:n._k??1,_o:n._o??0}:{},o=I.buttontpbg.hasAttribute('data-checked')?{_cb:n._cb??'#0000'}:{};return{...n,...i,...r,...o}}async function w(t,n){try{t?(t='string'==typeof t?a(t):t,n&&_(t)):t=a(g());let e=S(t);I.buttonsubmit.toggleAttribute('data-checked',1);let i=await y(e,!0);clearTimeout(N.timer),I.buttonsubmit.toggleAttribute('data-checked',0);let r=i.querySelector('title')?.textContent;if(!i)return;r?.startsWith(N.interrupted)||''===t?console.log(r):q('R',t);try{let e=JSON.parse(i.querySelector('desc').textContent).stat;console.log(Object.entries(e).map(([e,t])=>t+' '+e).join(' '));let t=e.ms<1e3?~~e.ms+' ms':(e.ms/1e3).toPrecision(2)+' s';I.buttonminilog.innerHTML=e.err?e.err+' error<br>':''+t}catch{}return I.bigsvg.replaceChildren(i),F(i,'#bigsvg'),v(I.bigsvg),!0}catch(t){b(t.message,0,e.error)}}async function x(){try{let t=h();if(!t)return b(e.nothingToExport);let n=parseInt(prompt(e.pngPrompt,e.pngDefaultSize));if(isNaN(n)||n<1||n>65536)return;let{w:i,h:r,s:a,filename:o}=await async function(t,n){let[i,r,a,o]=t.getAttribute('viewBox').split(' ').map(parseFloat);if(!t||null===n)return;n=Number(n)||3840,[a,o]=a<o?[Math.ceil(n*a/o),n]:[n,Math.ceil(n*o/a)];let F=new Image,s=document.createElement('canvas'),c=s.getContext('2d');F.src='data:image/svg+xml;base64,'+btoa((new XMLSerializer).serializeToString(t)),await new Promise(e=>F.onload=e),c.drawImage(F,0,0,s.width=a,s.height=o),c.getImageData(0,0,1,1);let d=await new Promise((t,n)=>s.toBlob(i=>i?t(i):n(new Error(e.error)),'image/png')),u=`${t.querySelector('title')?.textContent??e.untitled}.png`;return await l(d,u),{w:a,h:o,s:d.size,filename:u}}(t,n);console.log(`saved: ${i}x${r} ${a} bytes ${o}`)}catch(e){b(e.message)}}function A(t=a(g()),n='#',i){if(!h())return b(e.nothingToExport);let r=o(S(t,1));if(!r)return b(e.nothingToExport);let F=r.replace(/&/g,'%26').replace(/\?/g,'%3F').replace(/#/g,'%23');Object.assign(document.createElement('a'),{target:'_blank',href:i?`${location.origin+location.pathname}${n}${F}`:`${e.lsystemsvg}${n}${F}`}).click()}function k(t){if(!h())return b(e.nothingToExport);!function(t){navigator.clipboard.writeText(t),console.log(e.copied)}(t?JSON.stringify(a(g())):o(g()))}function L(){let t=h();if(!t)return b(e.nothingToExport);t.removeAttribute('tabindex'),async function(t){let n=(new XMLSerializer).serializeToString(t),i=(new TextEncoder).encode(n),r=new Blob([i],{type:'image/svg+xml'}),a=`${t.querySelector('title')?.textContent??e.untitled}.svg`;await l(r,a)}(t)}function E(e,t=a(g())){w(_(Object.assign(t,{_n:Math.max(0,(e?-1:1)+ +(t._n??0))})))}function $(e){let t=a(g()),n=+(t._a??0),i=[1,-1,.1,-.1][e];w(_(Object.assign(t,{_a:Math.max(0,i+n)})))}function Y(e,t){let n='string'==typeof e?document.querySelector(e):e,i=n.classList.contains('altclick')?'altclick':'click';if('altclick'===i){let e=!1,i=null,r=0,a=0,o=(e,n)=>{let i='keydown'===e.type&&('Enter'===e.key||' '===e.key);!n&&!i&&'click'!==e.type||(i&&e.preventDefault(),t(2*e.ctrlKey+(n||e.shiftKey)))},F=t=>{e&&(e=!1,t.stopPropagation(),t.preventDefault())},l=t=>{if(t.button&&0!==t.button)return;e=!1,n.classList.add('long-tap-progress');try{n.focus&&n.focus({preventScroll:!0})}catch{n.focus&&n.focus()}let F=t.touches?t.touches[0]||t.changedTouches[0]:t;r=F.pageX,a=F.pageY,i=setTimeout(()=>{e=!0,o(t,1),n.classList.remove('long-tap-progress')},200)},s=()=>{i&&(clearTimeout(i),i=null),n.classList.remove('long-tap-progress')},c=e=>{if(!i)return;let t=e.touches?e.touches[0]||e.changedTouches[0]:e,n=t.pageX-r,o=t.pageY-a;Math.hypot(n,o)>10&&s()};n.addEventListener('click',F,{capture:!0,passive:!1}),n.addEventListener('click',o,{passive:!0}),n.addEventListener('keydown',o,{passive:!1}),n.addEventListener('pointerdown',l,{passive:!1}),n.addEventListener('pointerup',s,{passive:!0}),n.addEventListener('pointermove',c,{passive:!0}),n.addEventListener('pointercancel',s,{passive:!0}),n.addEventListener('pointerleave',s,{passive:!0})}else n.addEventListener(i,t,{passive:!0})}function R(e=0){let t=I.bigsvg.querySelector('svg');if(!t)return{};let n=t.getAttribute('viewBox')?.split(' ')||[];return n.length&&(e||['x','y','width','height'].map(e=>t.querySelector('rect')?.getAttribute(e)).join(' ')!==n.join(' '))?{_x:n[0],_y:n[1],_w:n[2],_h:n[3]}:{}}function M(e=N.eg.i,t=N.eg.a.length){e=N.eg.i=(e+t)%t,w(N.eg.a[e],1),console.log(`[example: ${e+1} / ${t}]`)}function C(e){var n;_(e?function(e,t){return{...e,...a(t)}}((t(n={}),n),g()):function(e,t){return{...a(e),...t}}(g(),R(1)))}function V(e){M(e=((e=(N.eg.i+(e?-1:1))%N.eg.a.length)+N.eg.a.length)%N.eg.a.length)}async function T(){_(''),I.smallsvgs.replaceChildren(),v(I.smallsvgs);let e=performance.now(),t=e=>({...e,_n:Math.max(2,parseInt(e._n)-1,1),_k:e._k?e._k:m()?1:'',_o:e._o?e._o:m()?0:'',_cb:e._cb?e._cb:I.buttontpbg.hasAttribute('data-checked')?'#0000':''});N.eg.a.forEach(async(e,n)=>I.smallsvgs.append(await(e=>(e.el.addEventListener('click',t=>t.ctrlKey?A(N.eg.a[e.i]):M(e.i)),e.el))(await(async(e,n)=>({el:await y(S(t(e))),i:n}))(e,n)))),await r();let n,i,a,o,F=(performance.now()-e).toFixed(0);try{n=[...I.smallsvgs.querySelectorAll('svg')].map(e=>JSON.parse(e.querySelector('desc').textContent).stat.ms),i=0|n.reduce((e,t)=>e+parseFloat(t),0),a=Math.max(...n),o=n.indexOf(a)}catch{}console.log(`[${N.eg.a.length} examples ${F}ms ?${F-i}ms ${a}@${o+1}]`)}function W(){let e=I.buttontpbg.toggleAttribute('data-checked');if(I.right.classList.toggle('tpbg',e),!g())return T();let t=a(g());e?t._cb='#0000':delete t._cb,_(t),w()}function j(){var e;e=!m(),I.buttondot.toggleAttribute('data-checked',e),g()?w({...a(g()),_k:m()?1:0,_o:m()?0:''},1):T()}function D(e){if(!g())return T();if(e){let e=a(g());if(!e)return;_({...e,_hand:1==+e._hand?'':1}),w()}else{let e=document.body.classList.toggle('cursive');document.body.classList.toggle('cursive',e),I.buttoncursive.toggleAttribute('data-checked',e)}}function z(e=null===I.buttonexport.getAttribute('data-checked'),t){I.buttonexport.toggleAttribute('data-checked',e),document.querySelectorAll('.export').forEach(t=>t.classList.toggle('hidden',!e)),t||q('export')}function B(e=null===I.buttonminilog.getAttribute('data-checked'),t){I.buttonminilog.toggleAttribute('data-checked',e),I.buttonlog.classList.toggle('hidden',!e),t||q('minilog')}function O(){!function(e,t,n=console){'function'==typeof t&&(n.oldLog??=n.log,n.customLog=t),n.oldLog&&n.customLog&&(n.log=e?n.customLog:n.oldLog)}(!0,(...e)=>{I.buttonlog?I.buttonlog.replaceChildren(e.flatMap(e=>e&&'object'==typeof e?Object.entries(e):[['',e]]).map(([e,t])=>`${e}${e&&' '}${String(t).replace(/-/g,'â€‘').replace(/Infinity/g,'-')}`).join('\n'),document.createElement('br'),...[...I.buttonlog.childNodes].slice(0,19)):console.oldLog(...e)})}function P(){if(!/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return;let e=()=>{document.body.classList.contains('keyboard-active')&&window.visualViewport?I.right.style.height=`${window.visualViewport.height}px`:I.right.style.height='auto'};I.textarea.addEventListener('focus',()=>{document.body.classList.add('keyboard-active'),e()}),I.textarea.addEventListener('blur',()=>{document.body.classList.remove('keyboard-active'),I.right.style.height='auto',I.left.style.background='transparent'}),window.visualViewport&&window.visualViewport.addEventListener('resize',()=>{Math.abs(window.visualViewport.height-N.lastViewportHeight)>50&&(document.body.classList.toggle('keyboard-active',window.visualViewport.height<N.lastViewportHeight),e(),N.lastViewportHeight=window.visualViewport.height)})}function U(){window.addEventListener('hashchange',X),document.addEventListener('keydown',e=>'Shift'===e.key&&document.body.classList.add('shift-pressed')),document.addEventListener('keyup',e=>'Shift'===e.key&&document.body.classList.remove('shift-pressed')),I.textarea.addEventListener('keydown',e=>e.ctrlKey&&'Enter'===e.key&&p()),I.textarea.addEventListener('input',()=>w()),I.textarea.addEventListener('blur',()=>''===I.textarea.textContent&&(I.textarea.textContent='')),I.buttontxtclose?.addEventListener('click',()=>(I.textarea.focus(),I.textarea.blur())),I.textarea.addEventListener('paste',e=>{e.preventDefault();let t=e.clipboardData.getData('text/plain');document.execCommand('insertText',!1,t),p()}),I.textarea.addEventListener('keydown',t=>t.ctrlKey&&'c'===t.key&&!window.getSelection().toString().length&&(t.preventDefault(),navigator.clipboard.writeText(o(g())),console.log(e.copied))),Y(I.buttonsubmit,p),Y(I.buttonnpp,E),Y(I.buttoncursive,D),Y(I.buttondot,j),Y(I.buttontpbg,W),Y(I.buttonnexteg,V),Y(I.buttondefs,C),Y(I.buttonalleg,()=>T()),Y(I.buttonpng,()=>x()),Y(I.buttonjs,()=>A()),Y(I.buttonsvg,()=>L()),Y(I.buttonline,k),Y(I.buttonurleditor,()=>A(void 0,'#',1)),Y(I.buttonexport,()=>z()),Y(I.buttonminilog,()=>B()),Y(I.buttonangleinc,$),Y(I.buttonhelp,e=>e?f():v(I.readme)),function(e){c=e;let t=getComputedStyle(document.documentElement).getPropertyValue('--max-mobile').trim();(s=window.matchMedia(`(max-width: ${t})`)).addEventListener('change',d),d(),c&&s.addEventListener('change',c)&&c(s)}(()=>I.left.style[u()?'width':'height']='initial')}function q(e,t){function n(t,n){(!e||e===t)&&localStorage.setItem(N.lspre+t,n)}try{n('R',o(t||g()))}catch{return}n('export',null===I.buttonexport.getAttribute('data-checked')),n('minilog',null===I.buttonminilog.getAttribute('data-checked'))}function H(){let e=(t,n=0)=>{try{I.readme.innerHTML=marked.parse(t)}catch{n<5e4&&typeof marked>'u'&&setTimeout(()=>e(t,1.9*n+50),n),n||(I.readme.innerText=t)}};try{fetch(I.readme.getAttribute('data-src')).then(e=>e.text()).then(e).catch(e=>I.readme.append(Object.assign(document.createElement('iframe'),{type:'text/plain',src:I.readme.getAttribute('data-src'),frameBorder:0})))}catch(e){console.log(e)}}var I={},N={};document.addEventListener('DOMContentLoaded',async function(){await async function(){let e=window.location.pathname.replace(/\/*([a-z]+\.html)?$/,'/');return document.head.insertBefore(Object.assign(document.createElement('base'),{href:e}),document.head.firstChild),e}(),Object.assign(I,Object.fromEntries([...document.querySelectorAll('[id]')].map(e=>[e.id,e]))),Object.assign(N,{interrupted:'interrupted-',eg:{i:0,a:n.map(e=>a('string'==typeof e?e:o(e))).filter(e=>e)},divider:{active:null,startX:0,startY:0,startWidth:0,startHeight:0},lastViewportHeight:window.visualViewport?window.visualViewport.height:window.innerHeight,lspre:'lsystem_'}),I.textarea.dataset.placeholder=e.placeholder,O(),H(),function(){let e={isResizing:!1,startX:0,startY:0,startWidth:0,startHeight:0},t=t=>{if(e.isResizing)if(t.preventDefault(),u()){let n=e.startHeight+t.clientY-e.startY,i=parseFloat(getComputedStyle(I.textarea,null).getPropertyValue('min-height')),r=I.buttons.offsetHeight,a=I.divider.offsetHeight,o=Math.min(Math.max(n,r+i+a),window.innerHeight-50);I.left.style.width='',I.left.style.height=`${o}px`}else{let n=e.startWidth+t.clientX-e.startX,i=Math.min(Math.max(n,50),window.innerWidth-50);I.left.style.width=`${i}px`,I.left.style.height=''}},n=i=>{e.isResizing&&(e.isResizing=!1,document.removeEventListener('pointermove',t),document.removeEventListener('pointerup',n),document.removeEventListener('pointercancel',n),I.divider.style.transition='')};I.divider.addEventListener('pointerdown',i=>{i.target===I.divider&&(i.preventDefault(),e.isResizing=!0,e.startX=i.clientX,e.startY=i.clientY,e.startWidth=I.left.offsetWidth,e.startHeight=I.left.offsetHeight,document.addEventListener('pointermove',t,{passive:!1}),document.addEventListener('pointerup',n,{passive:!1}),document.addEventListener('pointercancel',n,{passive:!1}),I.divider.style.transition='none')},{passive:!1}),I.divider.style.touchAction='none'}(),P(),U(),await async function(){function e(e,t=localStorage.getItem(N.lspre+e)){return t}z('false'===e('export'),1),B('false'===e('minilog'),1);let t=e('R');return X()||t&&''!==t&&'{}'!==t&&w(t,1)}()||v(I.readme),I.textarea.setAttribute('contenteditable',!0),await async function(e){try{let t=await window.navigator.serviceWorker.register(e),n=new MessageChannel;n.port1.onmessage=e=>{try{e.data&&e.data.version&&console.log(location.host||location.origin,window.lsystemVersion=e.data.version)}catch(e){console.log('port1 onmessage error',e)}};let i=t.active||t.waiting||t.installing;i&&'function'==typeof i.postMessage?i.postMessage({type:'getVersion'},[n.port2]):navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:'getVersion'},[n.port2])}catch(e){console.log('serviceWorker register/message failed',e)}}('./sw.js')})})();</script>
  <style>.cursive object,.cursive svg,.cursive img,.cursive #buttoncursive{filter:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="waves" x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="linearRGB"><feTurbulence type="turbulence" baseFrequency="0.03 0.03" numOctaves="3" seed="1" stitchTiles="noStitch" result="turbulence"/><feDisplacementMap in="SourceGraphic" in2="turbulence" scale="6" xChannelSelector="G" yChannelSelector="A" result="displacementMap"/><feGaussianBlur stdDeviation=".15"/></filter></svg>#waves')}:root{--max-mobile: 45rem;--o: #000;--oa: #000a;--d: #777;--e: #eee;--f: #fff;--fd: #fffd;--err: #d22;--tp: #fff7;--font: system-ui, Arial, Helvetica, sans-serif;height:100%}@media(prefers-color-scheme:dark){:root,iframe,object.darkable{filter:hue-rotate(180deg) invert()}}body{display:flex;flex-direction:row;background-color:var(--f);margin:0;height:100%;font-family:var(--font)}#left{background-color:var(--tp);box-sizing:border-box;display:flex;flex-direction:column;width:24rem;max-width:90vw;min-width:3rem;position:relative;z-index:1;height:auto}.tpbg{background-image:repeating-linear-gradient(45deg,var(--f) 25%,transparent 25%,transparent 75%,var(--f) 75%,var(--f)),repeating-linear-gradient(45deg,var(--f) 25%,var(--e) 25%,var(--e) 75%,var(--f) 75%,var(--f));background-position:0 0,2rem 2rem;background-size:4rem 4rem}.buttons{display:grid;align-items:center;grid-template-columns:repeat(auto-fill,minmax(3.4rem,1fr));gap:.5rem;user-select:none;padding:.5rem}.buttons#export{padding-top:0}button{flex:1;color:var(--o);border-radius:.45rem;border:none;background-color:var(--e);padding:0;display:flex;align-items:center;justify-content:center;overflow:hidden}button.dropdown{position:relative}button.dropdown:after{content:"V";position:absolute;bottom:0;transform:scaleX(12);font-size:.3rem}button.dropdown[data-checked]:after{transform:rotate(180deg) scaleX(12);bottom:.1rem}button:not(:empty):not([disabled]){cursor:pointer}button>svg,button>object{pointer-events:none}button,button>svg,button>object{height:2.5rem}button:not(:empty):hover{filter:brightness(80%) contrast(150%)}.shift-pressed button.altclick>.a,button>.b{opacity:.2}.checked1{display:block;position:absolute;opacity:0}.checked0{display:block;position:absolute;opacity:1}[data-checked] .checked1{opacity:1}[data-checked] .checked0{opacity:0}.shift-pressed button.altclick>.b,button>.a{display:block;opacity:1;position:absolute}[data-checked]{color:var(--d)}hr{border:none;border-top:.2rem solid var(--d);max-width:9rem;margin:.2rem .5rem 0}#buttonlog{grid-column:1 / -1;transition:height .1s ease;overflow:auto;user-select:text;align-items:flex-start;justify-content:flex-start;text-align:left;display:flex;flex-direction:column}#buttonlog:focus{max-height:12rem;min-height:2.5rem;height:fit-content}#textarea{width:100%;height:100%;min-height:4rem;max-width:100%;padding:0 .7rem;box-sizing:border-box;font-family:monospace;font-size:1rem;white-space:pre-wrap;overflow:auto;border:none;word-break:break-all;line-height:1}#textarea>p{text-indent:-2.2ch;padding-left:2.2ch;margin:.2rem 0;letter-spacing:.1ch}@-moz-document url-prefix(){#textarea>p:first-letter{font-weight:900;font-size:1.2rem}}#divider{width:0;height:100%;max-width:0;margin:auto 0;padding:.25rem;touch-action:none;user-select:none;z-index:9;background-color:var(--tp)}#divider:hover{cursor:ew-resize;background-color:var(--e)}body.mobile-view>#divider{width:20%;max-width:initial;max-height:0;margin:0 auto;box-sizing:border-box;background-color:var(--e);border:.3rem solid var(--f)}body.mobile-view>#divider:hover{cursor:ns-resize}#right{display:flex;flex-direction:column;flex:1;overflow:auto;z-index:0;min-width:0;min-height:0}#readme{display:flex;flex-direction:column;flex:1;min-height:0;overflow:auto;width:100%}#readme>*{flex-grow:1}#bigsvg{height:100vh}#bigsvg>svg:focus{outline:none}#smallsvgs{display:grid;grid-template-columns:repeat(auto-fit,minmax(max(8rem,15%),1fr));height:auto}#smallsvgs>*{display:flex;overflow:hidden;aspect-ratio:1;cursor:pointer}#right svg{display:block;object-fit:contain;width:100%;height:100%}div[contenteditable=true]:empty:not(:focus):before{display:block;font-family:var(--font);content:attr(data-placeholder);color:var(--oa);word-break:normal}.long-tap-progress{background:linear-gradient(180deg,var(--oa) 50%,var(--e) 50%);background-size:400% 400%;animation:slide .5s linear forwards}@keyframes slide{to{background-position:0 100%}}.hidden{display:none!important}#buttontxtclose{position:absolute;top:.5rem;right:.5rem;width:1.5rem;height:1.5rem;display:none;z-index:4}body.keyboard-active #buttontxtclose{display:block}pre,code{background-color:var(--e);border-radius:.3125rem;font-size:1rem;padding:0 .3rem;margin-block:initial}@media only screen and (max-width:45rem){body{flex-direction:column}#left{max-width:100%;width:100%}.buttons{padding:.2rem;grid-template-columns:repeat(auto-fill,minmax(3.7rem,1fr));gap:.2rem}#textarea{padding:.2rem;min-height:30%;min-width:9rem}body.keyboard-active #textarea{max-height:initial;width:fit-content;height:fit-content}#right{height:auto;min-height:30%}#smallsvgs{grid-template-columns:repeat(auto-fit,minmax(max(4rem,15%),1fr))}body.keyboard-active .buttons,body.keyboard-active #buttonlog{display:none}body.keyboard-active #left{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}body.keyboard-active #textarea{background:var(--fd);position:relative;z-index:3}body.keyboard-active #right{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}}@media only screen and (min-width:45.001rem){#buttontxtclose{display:none!important}}</style>
</head>

<body>
  <div id="left">
    <div id="buttons" class="buttons">
      <button id="buttonhelp" title="Help / Shift: Clears localstorage and reloads without urlparams" class="altclick">
        <div class="a">&nbsp;<br><b>?</b></div>
        <div class="b">reset<br>&nbsp;</div>
      </button>
      <button id="buttonsubmit" title="Update (Ctrl+Enter)">
        <svg class="checked0" tabindex="-1" xmlns="http://www.w3.org/2000/svg" viewBox="-3 -3 9.464 10">
          <path fill="none" stroke="#000f" stroke-linecap="round" stroke-linejoin="round" d="m0 0 3.464 2L0 4V0" />Update
        </svg>
        <!--object class="checked0" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=+F++++F++++F,_a=30,_l=4,_cc=%23000f,_cb=%230000,_z=3">Update</object-->
        <object class="checked1" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=F+F+F+F,_a=90,_l=4,_cc=%23000f,_cb=%230000,_z=3">Stop</object>
      </button>
      <button id="buttontpbg" title="Highlights transparency">checked bg</button>
      <button id="buttondot" title="Show endpoints only">
        <object class="checked0" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++++++F++++F,_a=20,_cc=%23000f,_cb=%230000,_l=8,_z=6">Line</object>
        <object class="checked1" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++++++F++++F,_a=20,_0=0,_cb=%230000,_l=8,_z=6,_k=2">Dots</object>
      </button>
      <button id="buttonalleg" title="Show all examples">all examples</button>
      <button id="buttonnexteg" class="altclick" title="Shift: prev. example">
        <div class="a">&nbsp;<br>next e.g.</div>
        <div class="b">prev e.g.<br>&nbsp;</div>
      </button>
      <button id="buttonnpp" class="altclick" title="Shift: decrease CAREFUL!">
        <div class="a">&nbsp;<br>n++</div>
        <div class="b">n--<br>&nbsp;</div>
      </button>
      <button id="buttonangleinc" class="altclick" title="Angle inc/dec">
        <div class="a">&nbsp;<br>a++</div>
        <div class="b">a--<br>&nbsp;</div>
      </button>
      <button id="buttondefs" class="altclick" title="Shift: put defaults; put viewbox Into textarea">
        <div class="a">&nbsp;<br>viewBox</div>
        <div class="b">defs<br>&nbsp;</div>
      </button>
      <button id="buttoncursive" class="altclick" title="Shift: alternative; experiment, adds turbulence into svg or whole page">
        <div class="a">&nbsp;<br>_hand</div>
        <div class="b">shake<br>&nbsp;</div>
      </button>
      <button id="buttonminilog" class="dropdown" data-checked title="Log">log</button>
      <button id="buttonexport" class="dropdown" title="Show available exports">export</button>
      <button id="buttonreserved2" class="export hidden" title="buttonreserved2">
      </button>
      <button id="buttonjs" class="export hidden" title="Link to small, parametrizable svg">
        <div class="a">url<br>svg</div>
        <svg class="b" tabindex="-1" xmlns="http://www.w3.org/2000/svg" viewBox="-9.4 -7.057 12.457 12.457">
          <path fill="none" stroke="#000f" stroke-linecap="round" stroke-linejoin="round" d="M0 0v4h-8v-8h4m0 4 2.828-2.828 2.829-2.829v4m0-4h-4" />url
        </svg>
        <!--object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++F++FF++FF++F++f---FF[+++F]---F,_a=45,_l=4,_z=1.4,_cb=%230000,_cc=%23000f">url</object-->
      </button>
      <button id="buttonurleditor" class="export hidden" title="Link to this editor with url parameters">
        <div class="a">url<br>editor</div>
        <object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++F++FF++FF++F++f---FF[+++F]---F,_a=45,_l=4,_z=1.4,_cb=%230000,_cc=%23000f">url</object>
      </button>
      <button id="buttonsvg" class="export hidden" title="Download big, generated .svg">
        <div class="a">SVG<br>&nbsp;</div>
        <object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=[A]!----A,A=-FFFFF---FF++FFFFFF--FF,_a=45,_l=1,_n=2,_z=1.4,_cb=%230000,_cc=%23000f">svg</object>
      </button>
      <button id="buttonpng" class="export hidden" title="Download PNG">
        <div class="a">png<br>&nbsp;</div>
        <object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=[A]!----A,A=-FFFFF---FF++FFFFFF--FF,_a=45,_l=1,_n=2,_z=1.4,_cb=%230000,_cc=%23000f">svg</object>
      </button>
      <button id="buttonline" class="export hidden altclick" title="To clipboard - Shif: json - For multiline: ctrl+c without selection">
        <div class="a">&nbsp;<br>copy</div>
        <div class="b">json<br>&nbsp;</div>
      </button>
      <button tabindex="0" id="buttonlog" class="hidden" title="expand"></button>
    </div>
    <div id="textarea" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></div>
    <button id="buttontxtclose" class="close" title="Close keyboard" tabindex="-1">&times;</button>
  </div>
  <button id="divider" tabindex="-1" title="moveable divider"></button>
  <div id="right">
    <div id="message" class="hidden"></div>
    <div id="smallsvgs" class="hidden"></div>
    <div id="bigsvg" class="hidden"></div>
    <div id="readme" class="hidden" data-src="README.md"></div>
  </div>
</body>

</html>